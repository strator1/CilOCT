package de.unituebingen.medizin.eye.ciloct;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Comparator;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;
import org.apache.commons.lang3.StringUtils;
import org.dcm4che3.data.Attributes;
import org.dcm4che3.data.Tag;
import org.dcm4che3.io.DicomInputStream;

/**
 * @author strasser
 */
public class Rename {
	public static void main(final String... args) throws IOException {
		final Map<String, String> distanceMap = new HashMap<>();
		distanceMap.put("AA6EBUOGS8R2ATI48PAP6ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATI48PBCMBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("4KIUD9MVGJW2ATI48PBR3ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("4KIUD9MVGJW2ATI48PETG2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI48PFQ32BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI48PG2DXBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI48PJ5YGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATI48PJGSBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("154PLBEPV4Z2ATI48PJLUNBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATI48Q2L6KBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("7ZWZ57V11YT2ATI48Q2OBJBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("7ZWZ57V11YT2ATI48Q2ZC5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("3FE4RY85LEX2ATI4C71R3ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATI4C71Z3NBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("AA6EBUOGS8R2ATI4C721QUBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("154PLBEPV4Z2ATI4C730XFBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("2A9F6MTFQ9Y2ATI4C72YIGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATI4C7KT0OBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI4C7MF49BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI4C7LUH0BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("2A9F6MTFQ9Y2ATI4C7MIH8BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("4KIUD9MVGJW2ATI4C7NQK7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI4C7OBU9BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("951OQJ9QX3S2ATI4C7OP3BBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("3FE4RY85LEX2ATI4C8Y4QOBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("7ZWZ57V11YT2ATI4C8Y7VPBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("951OQJ9QX3S2ATI4C8YFN4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI4C8ZS0HBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("4KIUD9MVGJW2ATI4C8ZZIBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("7ZWZ57V11YT2ATI4C90L2KBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("AA6EBUOGS8R2ATI4C91WNQBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATI4C92H05BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI4C92JISBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("3FE4RY85LEX2ATI4C94FAKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4C94NX6BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("154PLBEPV4Z2ATI4C94QNDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("3FE4RY85LEX2ATI4FQIK0PBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI4FQJ36EBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI4FQJFS2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("3FE4RY85LEX2ATI4FQKGKYBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("AA6EBUOGS8R2ATI4FQKO4HBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI4FQL1LGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI4FQMVQ3BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("3FE4RY85LEX2ATI4FQMYCTBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI4FQN8OFBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("7ZWZ57V11YT2ATI4FR8K81BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4FR8NGHBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("154PLBEPV4Z2ATI4FR8W5GBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4FSC231BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATI4FSBUCTBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATI4FSBRMXBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATI4FSE0YGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI4FSE8NNBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATI4FSED3TBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI4FSFC91BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATI4FSFJVWBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("7ZWZ57V11YT2ATI4FSFM6WBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATI4FSH5P5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATI4FSHE2XBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4FSHHDRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4JA5ZFVBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI4JA67FCBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("951OQJ9QX3S2ATI4JA69XKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI4JA78ZDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("3FE4RY85LEX2ATI4JA7GNUBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("3FE4RY85LEX2ATI4JA7J4QBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATI4JA9C3WBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("7ZWZ57V11YT2ATI4JA9EL9BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("3FE4RY85LEX2ATI4JA9M7TBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI4JABA1HBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4JABCINBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("2A9F6MTFQ9Y2ATI4JABKEJBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("2A9F6MTFQ9Y2ATI4JAZ2CSBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATI4JAZ4K8BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("2A9F6MTFQ9Y2ATI4JAZ76IBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI4JB0LPBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("154PLBEPV4Z2ATI4JB0OKMBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("AA6EBUOGS8R2ATI4JB0RO3BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATI4JB1YRGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI4JB26HTBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATI4JB2996BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI4JB37LABN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("7ZWZ57V11YT2ATI4JB3FJFBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("7ZWZ57V11YT2ATI4JB3IJRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI4XBJ6WYBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI4XBJHB7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("4KIUD9MVGJW2ATI4XBJK1DBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI4XC2ASJBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("AA6EBUOGS8R2ATI4XC2D4IBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATI4XC2FFXBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI4XC47YSBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("154PLBEPV4Z2ATI4XC4AI1BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("2A9F6MTFQ9Y2ATI4XC4I6DBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI4XC5RY4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("154PLBEPV4Z2ATI4XC5UI9BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI4XC62XBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4XGMVAJBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI4XGNGU5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI4XGNO8GBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI4XGPK8RBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("3FE4RY85LEX2ATI4XGPN2YBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI4XGPPPZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("951OQJ9QX3S2ATI4XGR878BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4XGRIOOBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATI4XGRTPLBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATI4XGTNOPBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4XGTQ5QBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI4XGTSI4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATI54HEUECBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("AA6EBUOGS8R2ATI54HEX1UBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("154PLBEPV4Z2ATI54HF54YBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATI54HFTZEBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATI54HG44KBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("7ZWZ57V11YT2ATI54HG6T0BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("3FE4RY85LEX2ATI54HH6KTBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATI54HHF1QBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI54HI25DBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI54HIQB5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI54HJ0W4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATI54HJ8I8BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATI54JNV8RBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATI54JNYA5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("3FE4RY85LEX2ATI54JO9F1BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI54JPZNXBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI54JQ2L7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI54JQCJRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("951OQJ9QX3S2ATI54JR0H4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("3FE4RY85LEX2ATI54JR3BWBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI54JRBH3BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("4KIUD9MVGJW2ATI54JS0XZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI54JS9YRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI54JSCLMBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATI54LOYSYBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("951OQJ9QX3S2ATI54LP16PBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("3FE4RY85LEX2ATI54LP8S2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("4KIUD9MVGJW2ATI54LQ0A7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("3FE4RY85LEX2ATI54LQ7XDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATI54LQAHQBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("2A9F6MTFQ9Y2ATI54LR7DRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("3FE4RY85LEX2ATI54LRF1SBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("AA6EBUOGS8R2ATI54LRHUBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("2A9F6MTFQ9Y2ATI54LS6QUBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("AA6EBUOGS8R2ATI54LSEGVBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("951OQJ9QX3S2ATI54LSHJDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("4KIUD9MVGJW2ATIEH6J3Z4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("2A9F6MTFQ9Y2ATIEH6JP15BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATIEH6K10ABN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATIEH6LLKDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("2A9F6MTFQ9Y2ATIEH6LOBIBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("AA6EBUOGS8R2ATIEH6LY9FBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATIEH6NX90BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATIEH6OR68BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("951OQJ9QX3S2ATIEH6OTY0BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATIEH6QB8ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("AA6EBUOGS8R2ATIEH6QLWGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("AA6EBUOGS8R2ATIEH6QZHCBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("02ATIEDUL4C1BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("4KIUD9MVGJW2ATIEDUL6V2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("6US9JWGB6TU2ATIEDULEGMBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATIEDUM4Z8BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATIEDUMCQ7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATIEDUMFFIBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("4KIUD9MVGJW2ATIEDUNNGRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATIEDUNQINBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("6US9JWGB6TU2ATIEDUNYQGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("7ZWZ57V11YT2ATIEDUOL5ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATIEDUONWUBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("3FE4RY85LEX2ATIEDUOW26BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("3FE4RY85LEX2ATIEH4ID0IBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("7ZWZ57V11YT2ATIEH4IN3FBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("7ZWZ57V11YT2ATIEH4IPYKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATIEH4K83VBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATIEH4KAO2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("02ATIEH4KUMKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Near");
		distanceMap.put("5PNJYL1LBOV2ATIEH4M3CKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("951OQJ9QX3S2ATIEH4M63QBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("951OQJ9QX3S2ATIEH4MDXBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("7ZWZ57V11YT2ATIEH4OLWABN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("5PNJYL1LBOV2ATIEH4OOCKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");
		distanceMap.put("154PLBEPV4Z2ATIEH4OWU5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", "Far");

//		final Map<String, Integer> trialMap = new HashMap<>();
//trialMap.put("AA6EBUOGS8R2ATI48PAP6ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI48PBCMBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("4KIUD9MVGJW2ATI48PBR3ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("4KIUD9MVGJW2ATI48PETG2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATI48PFQ32BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("5PNJYL1LBOV2ATI48PG2DXBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI48PJ5YGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI48PJGSBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("154PLBEPV4Z2ATI48PJLUNBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI48Q2L6KBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("7ZWZ57V11YT2ATI48Q2OBJBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("7ZWZ57V11YT2ATI48Q2ZC5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("3FE4RY85LEX2ATI4C71R3ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI4C71Z3NBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("AA6EBUOGS8R2ATI4C721QUBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("154PLBEPV4Z2ATI4C730XFBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("2A9F6MTFQ9Y2ATI4C72YIGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("02ATI4C7KT0OBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("951OQJ9QX3S2ATI4C7MF49BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATI4C7LUH0BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("2A9F6MTFQ9Y2ATI4C7MIH8BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("4KIUD9MVGJW2ATI4C7NQK7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI4C7OBU9BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATI4C7OP3BBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("3FE4RY85LEX2ATI4C8Y4QOBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("7ZWZ57V11YT2ATI4C8Y7VPBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATI4C8YFN4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("154PLBEPV4Z2ATI4C8ZS0HBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("4KIUD9MVGJW2ATI4C8ZZIBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("7ZWZ57V11YT2ATI4C90L2KBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("AA6EBUOGS8R2ATI4C91WNQBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI4C92H05BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATI4C92JISBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("3FE4RY85LEX2ATI4C94FAKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("6US9JWGB6TU2ATI4C94NX6BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("154PLBEPV4Z2ATI4C94QNDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("3FE4RY85LEX2ATI4FQIK0PBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATI4FQJ36EBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("02ATI4FQJFS2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("3FE4RY85LEX2ATI4FQKGKYBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("AA6EBUOGS8R2ATI4FQKO4HBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("154PLBEPV4Z2ATI4FQL1LGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("02ATI4FQMVQ3BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("3FE4RY85LEX2ATI4FQMYCTBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATI4FQN8OFBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("7ZWZ57V11YT2ATI4FR8K81BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("6US9JWGB6TU2ATI4FR8NGHBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("154PLBEPV4Z2ATI4FR8W5GBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("6US9JWGB6TU2ATI4FSC231BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("6US9JWGB6TU2ATI4FSBUCTBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("6US9JWGB6TU2ATI4FSBRMXBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("6US9JWGB6TU2ATI4FSE0YGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATI4FSE8NNBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("6US9JWGB6TU2ATI4FSED3TBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI4FSFC91BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("5PNJYL1LBOV2ATI4FSFJVWBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("7ZWZ57V11YT2ATI4FSFM6WBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("02ATI4FSH5P5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("5PNJYL1LBOV2ATI4FSHE2XBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("6US9JWGB6TU2ATI4FSHHDRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("6US9JWGB6TU2ATI4JA5ZFVBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI4JA67FCBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATI4JA69XKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("154PLBEPV4Z2ATI4JA78ZDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("3FE4RY85LEX2ATI4JA7GNUBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("3FE4RY85LEX2ATI4JA7J4QBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("6US9JWGB6TU2ATI4JA9C3WBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("7ZWZ57V11YT2ATI4JA9EL9BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("3FE4RY85LEX2ATI4JA9M7TBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("951OQJ9QX3S2ATI4JABA1HBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("6US9JWGB6TU2ATI4JABCINBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("2A9F6MTFQ9Y2ATI4JABKEJBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("2A9F6MTFQ9Y2ATI4JAZ2CSBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("5PNJYL1LBOV2ATI4JAZ4K8BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("2A9F6MTFQ9Y2ATI4JAZ76IBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("951OQJ9QX3S2ATI4JB0LPBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATI4JB0OKMBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("AA6EBUOGS8R2ATI4JB0RO3BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI4JB1YRGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATI4JB26HTBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("6US9JWGB6TU2ATI4JB2996BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("154PLBEPV4Z2ATI4JB37LABN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("7ZWZ57V11YT2ATI4JB3FJFBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("7ZWZ57V11YT2ATI4JB3IJRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI4XBJ6WYBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI4XBJHB7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("4KIUD9MVGJW2ATI4XBJK1DBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI4XC2ASJBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("AA6EBUOGS8R2ATI4XC2D4IBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("6US9JWGB6TU2ATI4XC2FFXBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI4XC47YSBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATI4XC4AI1BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("2A9F6MTFQ9Y2ATI4XC4I6DBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("951OQJ9QX3S2ATI4XC5RY4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATI4XC5UI9BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATI4XC62XBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("6US9JWGB6TU2ATI4XGMVAJBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI4XGNGU5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("02ATI4XGNO8GBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("02ATI4XGPK8RBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("3FE4RY85LEX2ATI4XGPN2YBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("02ATI4XGPPPZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("951OQJ9QX3S2ATI4XGR878BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("6US9JWGB6TU2ATI4XGRIOOBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("02ATI4XGRTPLBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("02ATI4XGTNOPBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("6US9JWGB6TU2ATI4XGTQ5QBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("6US9JWGB6TU2ATI4XGTSI4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("02ATI54HEUECBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("AA6EBUOGS8R2ATI54HEX1UBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("154PLBEPV4Z2ATI54HF54YBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("6US9JWGB6TU2ATI54HFTZEBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("5PNJYL1LBOV2ATI54HG44KBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("7ZWZ57V11YT2ATI54HG6T0BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("3FE4RY85LEX2ATI54HH6KTBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATI54HHF1QBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("02ATI54HI25DBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI54HIQB5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI54HJ0W4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("6US9JWGB6TU2ATI54HJ8I8BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("6US9JWGB6TU2ATI54JNV8RBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATI54JNYA5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("3FE4RY85LEX2ATI54JO9F1BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI54JPZNXBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("5PNJYL1LBOV2ATI54JQ2L7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("5PNJYL1LBOV2ATI54JQCJRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("951OQJ9QX3S2ATI54JR0H4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("3FE4RY85LEX2ATI54JR3BWBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATI54JRBH3BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("4KIUD9MVGJW2ATI54JS0XZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("951OQJ9QX3S2ATI54JS9YRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATI54JSCLMBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATI54LOYSYBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("951OQJ9QX3S2ATI54LP16PBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("3FE4RY85LEX2ATI54LP8S2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("4KIUD9MVGJW2ATI54LQ0A7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("3FE4RY85LEX2ATI54LQ7XDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("5PNJYL1LBOV2ATI54LQAHQBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("2A9F6MTFQ9Y2ATI54LR7DRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("3FE4RY85LEX2ATI54LRF1SBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("AA6EBUOGS8R2ATI54LRHUBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("2A9F6MTFQ9Y2ATI54LS6QUBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("AA6EBUOGS8R2ATI54LSEGVBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATI54LSHJDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("4KIUD9MVGJW2ATIEH6J3Z4BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("2A9F6MTFQ9Y2ATIEH6JP15BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("5PNJYL1LBOV2ATIEH6K10ABN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATIEH6LLKDBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("2A9F6MTFQ9Y2ATIEH6LOBIBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("AA6EBUOGS8R2ATIEH6LY9FBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATIEH6NX90BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATIEH6OR68BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATIEH6OTY0BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("02ATIEH6QB8ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("AA6EBUOGS8R2ATIEH6QLWGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("AA6EBUOGS8R2ATIEH6QZHCBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("02ATIEDUL4C1BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("4KIUD9MVGJW2ATIEDUL6V2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("6US9JWGB6TU2ATIEDULEGMBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("154PLBEPV4Z2ATIEDUM4Z8BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("154PLBEPV4Z2ATIEDUMCQ7BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("5PNJYL1LBOV2ATIEDUMFFIBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("4KIUD9MVGJW2ATIEDUNNGRBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATIEDUNQINBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("6US9JWGB6TU2ATIEDUNYQGBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("7ZWZ57V11YT2ATIEDUOL5ZBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("02ATIEDUONWUBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("3FE4RY85LEX2ATIEDUOW26BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("3FE4RY85LEX2ATIEH4ID0IBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("7ZWZ57V11YT2ATIEH4IN3FBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("7ZWZ57V11YT2ATIEH4IPYKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("02ATIEH4K83VBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("5PNJYL1LBOV2ATIEH4KAO2BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("02ATIEH4KUMKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("5PNJYL1LBOV2ATIEH4M3CKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("951OQJ9QX3S2ATIEH4M63QBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("951OQJ9QX3S2ATIEH4MDXBBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);
//trialMap.put("7ZWZ57V11YT2ATIEH4OLWABN3SAXE3LF927IOLS4X2ZU.EX.DCM", 1);
//trialMap.put("5PNJYL1LBOV2ATIEH4OOCKBN3SAXE3LF927IOLS4X2ZU.EX.DCM", 2);
//trialMap.put("154PLBEPV4Z2ATIEH4OWU5BN3SAXE3LF927IOLS4X2ZU.EX.DCM", 3);

		final List<Entry> entries = new ArrayList<>();

		Files
			.newDirectoryStream(Paths.get("C:\\Users\\strasser\\Desktop\\files\\DataFilesMixed"))
			.forEach(path -> {
				final String fileName = path.getFileName().toString();
				if (fileName.endsWith("DCM")) {
					try (final DicomInputStream dis = new DicomInputStream(path.toFile())) {
						;
						final Attributes attributes = dis.readDataset(-1, -1);
						dis.close();

						final String patientName = Arrays.stream(attributes.getString(Tag.PatientName).split("\\^")).filter(StringUtils::isNoneBlank).collect(Collectors.joining(", ")).split(",")[1].trim().toUpperCase();
						final Date date = attributes.getDate(Tag.AcquisitionDateTime);

						final String target = distanceMap.get(fileName);

						entries.add(new Entry(path, patientName, date, target));
					} catch (IOException ex) {
						ex.printStackTrace(System.err);
					}
				}
			});

			final List<Entry> sorted = entries.stream().sorted((o1, o2) -> o1._date.compareTo(o2._date) != 0 ? o1._date.compareTo(o2._date) : -1 * o1._distance.compareTo(o2._distance)).collect(Collectors.toList());

			int trial = 0;
			String prevDistance = null;
			String prevPatient = null;
			for (final Entry entry : sorted) {
				try {
					if (entry._distance.equals(prevDistance) && entry._patientName.equals(prevPatient)) {
						trial++;
					} else {
						trial = 1;
					}
					prevDistance = entry._distance;
					prevPatient = entry._patientName;

					final String fileName = entry._path.getFileName().toString();
					final String newFileName = String.format("%s_%tY%tm%td_%tH%tM%tS_%d_%s.dcm", entry._patientName, entry._date, entry._date, entry._date, entry._date, entry._date, entry._date, trial, entry._distance);
					System.out.println(fileName + "\t" + newFileName);
					Files.move(entry._path, Paths.get(entry._path.getParent().toString(), newFileName));

					final Path p1 = Paths.get("C:\\Users\\strasser\\Desktop\\files\\Saved Landmarks_no1", fileName.replace("EX.DCM", "landmark.xml"));
					final String newFileName1 = String.format("%s_%tY%tm%td_%tH%tM%tS_%d_%s.landmark.xml", entry._patientName, entry._date, entry._date, entry._date, entry._date, entry._date, entry._date, trial, entry._distance);
					Files.move(p1, Paths.get(p1.getParent().toString(), newFileName1));

					final Path p2 = Paths.get("C:\\Users\\strasser\\Desktop\\files\\Saved Landmarks_no2", fileName.replace("EX.DCM", "landmark.xml"));
					Files.move(p2, Paths.get(p2.getParent().toString(), newFileName1));
				} catch (IOException ex) {
					ex.printStackTrace(System.err);
				}
			}
	}

	private static class Entry {
		private final Path _path;
		private final String _patientName;
		private final Date _date;
		private final String _distance;

		private Entry(final Path path, final String patientName, final Date date, final String distance) {
			_path = path;
			_patientName = patientName;
			_date = date;
			_distance = distance;
		}
	}
}